<div class="dialog-content">
    <h2 style="display: flex; font-weight: bold;">
      <img src="{{src}}" width="30" height="30" style="flex: 0; object-fit: cover; border: 2px solid black; border-radius: 50%;">
      <span style="flex: 1; font-size: 20px; margin: 2px; margin-bottom: 4px;">{{name}} [{{damage}}]</span>
      
      <span style="border: 4px double; height: 100%; padding: 0 7px; font-size: 18px;">
        <span>
          <span id="realDamage">{{realDamage}}</span>
          {{#if recovery}} <i class="fas fa-arrow-up" style="color: green"></i> {{else}} <i class="fas fa-arrow-down" style="color: darkred;"></i> {{/if}}
        </span>
        <span style="margin-left: 7px;">
          <i class="fas fa-heart" style="color: indianred"></i>
          <span id="life">{{life}}</span>
        </span>
      </span>
    </h2>
    
    <table>
      <tr>
        <th>{{localize "DX3rd.Guard"}}</th>
        <td colspan="3"><input type="text" id="guard" value="{{guard}}" ></td>
        <td><input type="checkbox" id="guard-check" {{guardCheck}} ></td>
      </tr>
      <tr>
        <th>{{localize "DX3rd.Weapon"}}</th>
        <td colspan="4">
          <div id="weapon-selection">
            {{#each weaponList as |item id|}}
            <label style="display: block; margin: 2px 0; cursor: pointer;">
              <input type="checkbox" class="weapon-checkbox" data-guard="{{item.system.guard}}" data-name="{{item.name}}" style="margin-right: 5px;">
              {{item.name}} (가드: {{item.system.guard}})
            </label>
            {{/each}}
            {{#unless weaponList.length}}
            <div style="color: #666; font-style: italic;">사용 가능한 무기가 없습니다</div>
            {{/unless}}
          </div>
          <div>
            총 가드: <span id="total-guard">0</span>
          </div>
        </td>
      </tr>

      <tr>
        <th>{{localize "DX3rd.Armor"}}</th>
        <td colspan="4" style="position: relative;">
          <input type="text" id="armor" value="{{armor}}" style="padding-right: 48px;">
          <span style="
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            color: #ffffff;
            font-weight: bold;
            pointer-events: none;
            background: transparent;
            ">
            (-{{penetrate}})
          </span>
        </td>
      </tr>
      <tr>
        <th>{{localize "DX3rd.ReduceDamage"}}</th>
        <td colspan="4"><input type="text" id="reduce" value="{{reduce}}" ></td>
      </tr>
      <tr>
        <th>{{localize "DX3rd.Covering"}}</th>
        <td colspan="3"><input type="number" id="covering" value="0" min="0" style="width: 60px;"></td>
        <td style="text-align: right;"><button id="reset" style="width: 32px; margin: 0 5px"><i class="fas fa-redo"></i></button></td>
      </tr>

    </table>
</div>
